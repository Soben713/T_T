{% extends "base.html" %}
{% load staticfiles %}

{% block css %}
    {{ block.super }}
    <link href="{% static 'lib/jquery.imgareaselect-0.9.10/css/imgareaselect-animated.css' %}" rel="stylesheet">
    <link href="{% static 'lib/jquery.imgareaselect-0.9.10/css/imgareaselect-default.css' %}" rel="stylesheet">
    <link href="{% static 'lib/jquery.imgareaselect-0.9.10/css/imgareaselect-deprecated.css' %}" rel="stylesheet">
{% endblock %}

{% block js %}
    {{ block.super }}
    <script src="{% static 'lib/jquery.imgareaselect-0.9.10/scripts/jquery.imgareaselect.js' %}"></script>
{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-md-3">
            <div class="panel panel-default">
                <div class="panel-heading">
                    مدیریت
                </div>
                <div class="panel-body">
                    <a class="btn btn-link" href="/moderate/add-product">
                        افزودن محصول
                    </a>
                    <a class="btn btn-link">لیست محصولات ارائه شده</a>
                    <a class="btn btn-link">
                        فعالیت‌های من
                    </a>
                    <a class="btn btn-link">
                        تعیین سطح موجودی
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-9">
            <div class="panel panel-default" ng-controller="AddProduct">
                <div class="panel-heading">
                    افزودن محصول
                </div>
                <div class="panel-body">
                        <div class="row">
                            <div class="col-md-7">
                                <form role="form" id="add-product" ng-submit="formSubmitted()">
                                    <div class="form-group">
                                        <label for="name">
                                            نام
                                        </label>
                                        <input ng-model="name" type="text" class="form-control" id="name" placeholder="نام محصول شما">
                                    </div>
                                    <div class="form-group">
                                        <label for="desc">
                                            توضیحات محصول شما
                                        </label>
                                        <input ng-model="desc" type="text" class="form-control" id="desc" placeholder="توضیحات">
                                    </div>
                                    <div class="form-group">
                                        <label for="name">
                                            قیمت
                                        </label>
                                        <input ng-model="price" type="number" class="form-control" id="price" placeholder="قیمت محصول">
                                    </div>
                                    <label>
                                        نوع محصول
                                    </label>
                                    <select class="form-control" name="category" ng-model="form_category">
                                        <option ng-repeat="category in category.data.categoryList" value="[[category.id]]">
                                            [[category.name]]
                                        </option>
                                    </select>
                                </form>
                            </div>
                            <div class="col-md-5">
                                <form class="form" id="image-form" ng-submit="imageFormSubmitted()" ng-if="picUrl==null">
                                    <div class="form-group">
                                        <label>
                                            نوع محصول
                                        </label>
                                        <input type="file" name="image">
                                    </div>
                                    <input type="submit" class="btn btn-primary" value="آپلود">
                                </form>
                                <div ng-if="picUrl!=null">
                                    <img ng-src="[[picUrl]]" id="to-be-cropped">
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="alert alert-warning" ng-if="picId == null">
                            برای افزودن محصول ابتدا تصویر محصول را آپلود کنید.
                        </div>
                        <div class="alert alert-warning" ng-if="picId !== null && image.x1==null">
                            پیش از افزودن تصویر را کراپ کنید
                        </div>
                        <input type="submit" form="add-product" class="btn btn-primary" value="افزودن" ng-if="picId != null && image.x1!= null">
                </div>
            </div>
        </div>
    </div>
{% endblock %}